<%
var columnTwoAt = tracks.length <= 5 ? 0 : Math.max(5, Math.ceil(tracks.length / 2));
%>

<div class="artwork"></div>

<h1 class="prim"><%= tracks[0].get('album$') %></h1>
<h2 class="sec"><%= tracks[0].get('albumArtist$') %></h2>

<ol<% if (columnTwoAt == 0) print(' class="empty"') %>>
<% _.each(tracks, function(track, i){
  
  // Create second column
  if (columnTwoAt == i) print('</ol><ol>');
  
  %>
  
  <li data-id="<%= track.id %>">
    <span class="sec"><%= track.get('trackNumber') || "" %></span>
    <span class="prim"><%= track.get('title') %></span>
    <span class="sec"><%= track.get('duration$') %></span>
  </li>
  
  <%
  // Add empty row if necessary:
  // If we are at the last track AND
  // - We have two columns AND the columns are not of equal length
  // - OR we have 5 or less tracks
  if ( i == tracks.length - 1 && ( (tracks.length / columnTwoAt < 2) || i < 5 ) )
    print('<li class="empty"><span>&nbsp;</span></li>');
  %>
  
<% }); %>
</ol>